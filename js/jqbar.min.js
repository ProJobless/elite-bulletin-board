/*********************************************
Author : EGrappler.com
URL    : http://www.egrappler.com
License: http://www.egrappler.com/license.
*********************************************/
(function(a){a.fn.extend({jqbar:function(b){var c=a.extend({animationSpeed:2e3,barLength:200,orientation:"h",barWidth:10,barColor:"red",label:"&nbsp;",value:100},b);return this.each(function(){function i(a){var e=parseInt(a.attr("data-value"));e>100&&(e=100,alert("max value cannot exceed 100 percent"));var f=c.barLength*e/100;if("h"==c.orientation)a.animate({width:f},{duration:2e3,step:function(a){var b=parseInt(100*(a/c.barLength));isNaN(b)&&(b=0),d.find(".bar-percent").html(b+"%")}});else{var g=c.barLength-c.barLength*e/100;a.animate({top:g},{duration:2e3,step:function(a){var b=parseInt(100*((c.barLength-parseInt(a))/c.barLength));isNaN(b)&&(b=0),d.find(".bar-percent").html(Math.abs(b)+"%")}}),d.find(".bar-percent").animate({top:g-b},2e3)}}var b=0,d=a(this);if("h"==c.orientation){d.addClass("jqbar horizontal").append('<span class="bar-label"></span><span class="bar-level-wrapper"><span class="bar-level"></span></span><span class="bar-percent"></span>'),d.find(".bar-label").html(c.label);var f=d.find(".bar-level").attr("data-value",c.value),g=d.find(".bar-level-wrapper");f.css({height:c.barWidth,width:0,backgroundColor:c.barColor});var h=d.find(".bar-percent");h.html("0")}else{d.addClass("jqbar vertical").append('<span class="bar-percent"></span><span class="bar-level-wrapper"><span class="bar-level"></span></span><span class="bar-label"></span>'),d.find(".bar-label").html(c.label);var f=d.find(".bar-level").attr("data-value",c.value),g=d.find(".bar-level-wrapper");d.css("height",c.barLength),f.css({height:c.barLength,top:c.barLength,width:c.barWidth,backgroundColor:c.barColor}),g.css({height:c.barLength,width:c.barWidth});var h=d.find(".bar-percent");h.html("0"),b=parseInt(h.outerHeight()),h.css({top:c.barLength-b+"px"})}i(f)})}})})(jQuery);